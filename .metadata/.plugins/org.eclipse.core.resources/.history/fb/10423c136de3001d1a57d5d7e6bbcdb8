#include <stdint.h>
#include <stdbool.h>
#include "inc/tm4c1294ncpdt.h"
#include "inc/hw_memmap.h"
#include "inc/hw_types.h"
#include "driverlib/sysctl.h"
#include "driverlib/gpio.h"

#define PORTA_BASE GPIO_PORTA_AHB_BASE
#define PORTF_BASE GPIO_PORTF_AHB_BASE

#define PIN_A GPIO_PIN_3
#define PIN_B GPIO_PIN_2
#define PIN_F GPIO_PIN_1
#define PIN_G GPIO_PIN_0

#define PIN_C
#define PIN_D
#define PIN_E
#define PIN_F

void HabilitaPortal(uint8_t portal){
    SysCtlPeripheralEnable(SYSCTL_PERIPH_GPIOA);
    SysCtlPeripheralEnable(SYSCTL_PERIPH_GPIOF);
}

void ConfiguraPinoSaida(uint32_t base, uint8_t pino){
  GPIOPinTypeGPIOOutput(base, pino);
  GPIOPadConfigSet(base, pino, GPIO_STRENGTH_2MA, GPIO_PIN_TYPE_STD);
}

void ConfigClock(unsigned int config){
  SysCtlClockFreqSet((config << 3), SYSCTL_OSC_MAIN | SYSCTL_USE_PLL | SYSCTL_XTAL_25MHZ | SYSCTL_CFG_VCO_480);
}

void DelayMs(unsigned int ms){
  SysCtlDelay(SysCtlClockGet() / 3000 * ms);
}

int main(){
  HabilitaPortal(0);
  ConfiguraPinoSaida(PORTF_BASE, PIN_A);
  ConfiguraPinoSaida(PORTF_BASE, PIN_B);
  ConfiguraPinoSaida(PORTF_BASE, PIN_F);
  ConfiguraPinoSaida(PORTA_BASE, PIN_G);

  while(1){
    if(GPIOPinRead(PORTF_BASE, GPIO_PIN_4)){
        GPIOPinWrite(PORTF_BASE, GPIO_PIN_0, GPIO_PIN_0);
        GPIOPinWrite(PORTA_BASE, PIN_G, PIN_G);
        GPIOPinWrite(PORTF_BASE, PIN_A | PIN_B | PIN_F, 0x00);
    }else{
        GPIOPinWrite(PORTF_BASE, GPIO_PIN_0, 0x00);
        GPIOPinWrite(PORTA_BASE, PIN_G, 0x00);
        GPIOPinWrite(PORTF_BASE, PIN_A | PIN_B | PIN_F, PIN_A | PIN_B | PIN_F);
    }
    DelayMs(500);
  }
}
